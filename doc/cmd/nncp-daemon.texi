@node nncp-daemon
@section nncp-daemon

@example
$ nncp-daemon [options]
    [-maxconn INT] [-bind ADDR] [-inetd]
    [-autotoss*] [-nock] [-mcd-once]
@end example

Start listening TCP daemon, wait for incoming connections and run
@ref{Sync, synchronization protocol} with each of them. You can run
@ref{nncp-toss} utility in background to process inbound packets from
time to time.

@option{-maxconn} option specifies how many simultaneous clients daemon
can handle. @option{-bind} option specifies @option{addr:port} it must
bind to and listen.

It could be run as @command{inetd} service, by specifying
@option{-inetd} option. Pay attention that because it uses
@code{stdin}/@code{stdout}, it can not effectively work with IO timeouts
and connection closing can propagate up to 5 minutes in practice.
Example inetd-entry:

@verbatim
uucp	stream	tcp6	nowait	nncpuser	/usr/local/bin/nncp-daemon	nncp-daemon -quiet -inetd
@end verbatim

@option{-autotoss} option runs tosser on node's spool every second
during the call. All @option{-autotoss-*} options is the same as in
@ref{nncp-toss} command.

Read @ref{CfgNoCK, more} about @option{-nock} option.

@option{-mcd-once} option sends @ref{MCD} announcements once and quits.
Could be useful with inetd-based setup, where daemons are not running.
