@node Новости
@section Новости

@node Релиз 3.2
@subsection Релиз 3.2
@itemize
@item
@strong{Несовместимое} изменение формата @emph{bundle} архивов и
работоспособность @command{nncp-bundle} команды с Go 1.10+. Bundle
должен быть корректным tar архивом, но Go 1.9 делал его недействительным
из-за длинных путей внутри. NNCP нечаянно был зависим от этой баги.
Явное добавление @file{NNCP/} директории в архив восстанавливает
работоспособность с корректными tar архивами.
@end itemize

@node Релиз 3.1
@subsection Релиз 3.1
@itemize
@item
Возможность отключать пересылку через промежуточные ноды используя
@verb{|-via -|} опцию командной строки.
@end itemize

@node Релиз 3.0
@subsection Релиз 3.0
@itemize
@item
@strong{Несовместимое} изменение формата простых пакетов. Работа со
старыми версиями не поддерживается.
@item
Добавлена возможность удалённого исполнения команд, путём
конфигурирования @option{exec} опции конфигурационного файла и
использования команды @command{nncp-exec}:
    @itemize
    @item
    Команда @command{nncp-mail} заменена более гибкой и широкой
    @command{nncp-exec}. Вместо вызова @verb{|nncp-mail NODE RECIPIENT|}
    нужно использовать @verb{|nncp-exec NODE sendmail RECIPIENT|}.
    @item
    @option{sendmail} опция конфигурационного файла заменена на более гибкую
    @option{exec}. @verb{|sendmail: [...]|} нужно заменить на @verb{|exec:
    sendmail: [...]|}.
    @end itemize
@item
Возможность переопределить @option{via} опцию конфигурации для целевого
узла через @option{-via} опцию командной строки для следующих команд:
@command{nncp-file}, @command{nncp-freq}, @command{nncp-exec}.
@item
Chunked файлы, меньшего размера чем указанный chunk, отправляются просто
в виде одного файла.
@item
Exec команды вызываются с дополнительными переменными окружения
@env{NNCP_NICE} и @env{NNCP_SELF}.
@item
Отправляемые файлы в ответ на запрос имеют приоритет указанный в запросе.
Указать их желаемый приоритет во время вызова @command{nncp-freq} можно
аргументом @option{-replynice}.
@item
Команде @command{nncp-toss} можно сказать не обрабатывать определённые
типы пакетов, за счёт опций @option{-nofile}, @option{-nofreq},
@option{-noexec}, @option{-notrns}.
@item
По-умолчанию @command{nncp-file} команда для
@option{-minsize}/@option{-chunked} опций использует
@option{FreqMinSize}/@option{FreqChunked} из конфигурационного файла.
Это можно отключить указав нулевое значение.
@end itemize

@node Релиз 2.0
@subsection Релиз 2.0
@itemize
@item
@strong{Несовместимое} изменение формата зашифрованных и eblob пакетов.
Работа со старыми версиями не поддерживается.
@item
Алгоритм шифрования Twofish заменён на ChaCha20. Он намного быстрее.
Одним криптографическим примитивом меньше.
@item
HKDF-BLAKE2b-256 KDF алгоритм заменён на BLAKE2Xb XOF. Ещё одним
криптографическим примитивом меньше (предполагая, что BLAKE2X
практически идентичен BLAKE2).
@end itemize

@node Релиз 1.0
@subsection Релиз 1.0
@itemize
@item
@strong{Несовместимое} изменение формата зашифрованных пакетов. Работа
со старыми версиями не поддерживается.
@item
@command{nncp-bundle} команда может создавать потоки зашифрованных
пакетов или потреблять их. Это полезно когда речь идёт о stdin/stdout
методах передачи (например запись на CD-ROM без создания промежуточного
подготовленного ISO образа или работа с ленточными накопителями).
@item
@command{nncp-toss} команда может создавать @file{.seen} файлы,
предотвращая приём дублированных пакетов.
@item
В команде @command{nncp-call} разрешается иметь только одного
обработчика контрольной суммы в фоне. Это полезно когда тысячи маленьких
входящих пакетов могут создать много горутин.
@item
Возможность переопределить путь до spool директории и файла журнала
через аргумент командной строки или переменную окружения.
@item
@command{nncp-rm} команда может удалять все исходящие/входящие,
@file{.seen}, @file{.part}, @file{.lock} и временные файлы.
@end itemize

@node Релиз 0.12
@subsection Релиз 0.12
@itemize
@item
Команда sendmail вызывается с @env{NNCP_SENDER} переменной окружения.
@end itemize

@node Релиз 0.11
@subsection Релиз 0.11
@itemize
@item
Вывод команды @command{nncp-stat} отсортирован по имены ноды.
@end itemize

@node Релиз 0.10
@subsection Релиз 0.10
@itemize
@item
@file{DST} аргумент @command{nncp-freq} команды теперь опционален.
По-умолчанию будет подставлен последний элемент @file{SRC} пути.
@end itemize

@node Релиз 0.9
@subsection Релиз 0.9
@itemize
@item
Исправлена обработка @option{-rx}/@option{-tx} опций @command{nncp-call}
команды. Они игнорировались.
@end itemize

@node Релиз 0.8
@subsection Релиз 0.8
@itemize
@item
Небольшое исправление ошибки в команде @command{nncp-file}, где опция
@option{-minsize} для передачи без разбиения на части была в байтах, а
не KiB-ах.
@end itemize

@node Релиз 0.7
@subsection Релиз 0.7
@itemize
@item
Возможность предоставлять данные для @command{nncp-file} через
стандартный ввод, используя временный зашифрованный файл для этого.

@item
Появилась возможность передачи файлов разбитых на части, с сопутствующей
@command{nncp-reass} командой и @option{freqchunked} опцией
конфигурационного файла. Полезно для передачи больших файлов через
маленькие устройства хранения.

@item
@option{freqminsize} опция конфигурационного файла, аналогичная
@option{-minsize}.

@item
Опция @option{-force} команды @command{nncp-xfer} переименована в
@option{-mkdir} для ясности.

@item
Опция @option{-minsize} задаётся в KiB, а не байтах, для удобства.

@item
Команда @command{nncp-newcfg} переименована в @command{nncp-cfgnew},
а @command{nncp-mincfg} в @command{nncp-cfgmin}, для того чтобы они
имели общий префикс и были сгруппированы для удобства.

@item Появилась команда @command{nncp-cfgenc}, позволяющая
шифровать/дешифровать конфигурационный файл, чтобы безопасно его хранить
без использования OpenPGP или других подобных инструментов.

@item
Обновлены зависимые криптографические библиотеки.
@end itemize

@node Релиз 0.6
@subsection Релиз 0.6
@itemize
@item Появилась небольшая команда @command{nncp-rm}.
@item Обновлены зависимые криптографические библиотеки.
@end itemize

@node Релиз 0.5
@subsection Релиз 0.5
@itemize
@item Тривиальное небольшое исправление в значениях приоритетов
по-умолчанию в @command{nncp-file} и @command{nncp-freq} командах.
@end itemize

@node Релиз 0.4
@subsection Релиз 0.4
@itemize
@item Небольшое исправление в @command{nncp-call}, @command{nncp-caller},
@command{nncp-daemon}: иногда они могли падать с segmentation fault
ошибкой (данные не терялись).
@item @command{nncp-newnode} переименована в @command{nncp-newcfg} --
это короче и удобнее для использования.
@item Появилась команда @command{nncp-mincfg}: вспомогательная утилита
позволяющая создать минималистичный урезанный конфигурационный файл без
приватных ключей, что полезно во время использования @command{nncp-xfer}.
@end itemize

@node Релиз 0.3
@subsection Релиз 0.3
Исправлена совместимость с Go 1.6.

@node Релиз 0.2
@subsection Релиз 0.2
@itemize
@item @strong{Несовместимое} изменение формата пакета (магическое число
тоже изменено): поле размера пакета шифруется и не посылается в открытом
виде.
@item @option{-minsize} опция даёт возможность автоматически дополнять
исходящие пакеты до указанного минимального размера.
@item @command{nncp-daemon} и
@command{nncp-call}/@command{nncp-caller} всегда в фоне проверяют появление
исходящих @emph{tx} пакетов пока подключены. Удалённая сторона сразу же
оповещается об этом.
@item @option{-onlinedeadline} опция даёт возможность выставления
timeout-а на неактивность в online соединении, когда оно должно быть
отключено. Она может быть использована для сохранения соединения на
долгое время.
@item @option{-maxonlinetime} опция даёт возможность указания
максимального возможного времени жизни соединения.
@item Появилась @command{nncp-caller} команда: клиент TCP-демона
работающий по cron-у.
@item @command{nncp-pkt} команда может разжимать данные.
@end itemize
